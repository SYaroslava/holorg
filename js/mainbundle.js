(()=>{const e=document.querySelector(".burger"),t=document.querySelector(".header"),s=document.querySelector("main");e.addEventListener("click",(e=>{t.classList.toggle("_open"),s.classList.toggle("_block")}));const i=document.querySelector(".header .header__contacts"),r=document.querySelector(".header .header__bottom"),l=document.querySelector(".header .header__top");let n=!1;const d=new class{constructor(e,t,s,i,r){this.wrapper=e,this.slider=document.querySelector(t),this.sliderItems=document.querySelectorAll(s),this.nextBtn=document.querySelector(i),this.prevBtn=document.querySelector(r),this.count=this.sliderItems.length,this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.addListenersBtn()}setValue(e=!1){this.isOneItemInSlider=e;const t=this.sliderItems[0].clientWidth;this.slideTranslateValue=t,e?(this.translateSlider(0),this.addSlideClass(0),this.currentNumber=0):(this.translateSlider(1),this.addSlideClass(1),this.currentNumber=1)}addListenersBtn(){this.nextBtn.addEventListener("click",this.nextSlide),this.prevBtn.addEventListener("click",this.prevSlide)}nextSlide(){if(this.currentNumber<this.count-1){const e=++this.currentNumber;this.translateSlider(e),this.addSlideClass(e)}}prevSlide(){if(this.currentNumber>0){const e=--this.currentNumber;this.translateSlider(e),this.addSlideClass(e)}}addSlideClass(e){const t=document.querySelector(`${this.wrapper} .slider__item._active`);null!=t&&t.classList.remove("_active"),this.sliderItems[e].classList.add("_active")}translateSlider(e){let t;t=this.isOneItemInSlider?-this.slideTranslateValue*e:-this.slideTranslateValue*(e-1),this.slider.style.transform=`translate(${t}px,0px)`}touchStart(e){this.startPosition=e}moveSlider(e){if(this.startPosition>e){if(this.startPosition-e>50)return this.nextSlide(),1}else if(e-this.startPosition>50)return this.prevSlide(),1}}(".team",".team .slider__body",".team .slider__item",".team .arrow-right",".team .arrow-left"),o=document.querySelector(".team .slider");o.ontouchstart=e=>{d.touchStart(e.touches[0].clientX),o.addEventListener("touchmove",c)};const c=e=>{e.preventDefault();const t=e.touches[0].clientX;d.moveSlider(t)&&o.removeEventListener("touchmove",c)},a=document.querySelectorAll(".offer-button"),u=document.querySelector(".offer");for(let e=0;e<a.length;e++)a[e].addEventListener("click",h);function h(){u.getBoundingClientRect().top,u.scrollIntoView()}const m=document.querySelectorAll(".feedbacks__item"),S=document.querySelector(".feedbacks__feedback");for(let e=0;e<m.length;e++)m[e].addEventListener("click",v);function v(e){const t=e.target;document.querySelector(".feedbacks__item._active").classList.remove("_active"),t.classList.add("_active");const s=t.querySelector(".feedback").outerHTML;S.innerHTML=s}const _=new class{constructor(e,t,s,i,r){this.wrapper=e,this.slider=document.querySelector(t),this.sliderItems=document.querySelectorAll(s),this.nextBtn=document.querySelector(i),this.prevBtn=document.querySelector(r),this.count=this.sliderItems.length,this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.addListenersBtn()}setItems(e){this.sliderItems=""==e?document.querySelectorAll(`${this.wrapper} .slider__item`):document.querySelectorAll(`${this.wrapper} .slider__item[data-filter="${e}"]`);const t=this.sliderItems.length;t>0&&(3==t?(this.translateSlider(1),this.addSlideClass(1),this.currentNumber=1):t<3?(this.translateSlider(0),this.addSlideClass(0),this.currentNumber=0):(this.translateSlider(2),this.addSlideClass(2),this.currentNumber=2)),this.count=this.sliderItems.length}setValue(e=20,t=2){this.slideTranslateValue=e,this.translateSlider(t),this.addSlideClass(t),this.currentNumber=t,this.startNumber=t}addListenersBtn(){this.nextBtn.addEventListener("click",this.nextSlide),this.prevBtn.addEventListener("click",this.prevSlide)}nextSlide(){if(this.currentNumber<this.count-1){const e=++this.currentNumber;this.translateSlider(e),this.addSlideClass(e)}}prevSlide(){if(this.currentNumber>0){const e=--this.currentNumber;this.translateSlider(e),this.addSlideClass(e)}}removeCliserClass(e){const t=document.querySelector(`${this.wrapper} .slider__item._active`);null!=t&&t.classList.remove("_active");const s=document.querySelector(`${this.wrapper} .slider__item._prev-item`);null!=s&&s.classList.remove("_prev-item");const i=document.querySelector(`${this.wrapper} .slider__item._next-item`);null!=i&&i.classList.remove("_next-item");const r=document.querySelector(`${this.wrapper} .slider__item._prev-second-item`);null!=r&&r.classList.remove("_prev-second-item");const l=document.querySelector(`${this.wrapper} .slider__item._next-second-item`);null!=l&&l.classList.remove("_next-second-item")}addSlideClass(e){this.removeCliserClass(e),this.sliderItems[e].classList.add("_active");const t=this.sliderItems[e+1];null!=t&&t.classList.add("_next-item");const s=this.sliderItems[e+2];null!=s&&s.classList.add("_next-second-item");const i=this.sliderItems[e-2];null!=i&&i.classList.add("_prev-second-item");const r=this.sliderItems[e-1];null!=r&&r.classList.add("_prev-item")}translateSlider(e){let t;t=-this.slideTranslateValue*(e-this.startNumber),this.slider.style.transform=`translate(${t}%,0px)`}touchStart(e){this.startPosition=e}moveSlider(e){if(this.startPosition>e){if(this.startPosition-e>50)return this.nextSlide(),1}else if(e-this.startPosition>50)return this.prevSlide(),1}}(".gallery",".gallery .slider__body",".gallery .slider__item",".gallery .arrow-right",".gallery .arrow-left"),p=document.querySelector(".gallery .slider");p.ontouchstart=e=>{_.touchStart(e.touches[0].clientX),p.addEventListener("touchmove",f)};const f=e=>{e.preventDefault();const t=e.touches[0].clientX;_.moveSlider(t)&&p.removeEventListener("touchmove",f)},L=document.querySelectorAll(".filters__item");for(let e=0;e<L.length;e++)L[e].addEventListener("click",y);function y(e){const t=e.target,s=t.dataset.filter;document.querySelector(".filters__item._active").classList.remove("_active"),t.classList.add("_active"),_.setItems(s),function(e){if(""==e)for(let e=0;e<q.length;e++)q[e].classList.remove("_hidden");else for(let t=0;t<q.length;t++){const s=q[t];s.dataset.filter==e?s.classList.remove("_hidden"):s.classList.add("_hidden")}}(s)}const q=document.querySelectorAll(".gallery .slider__item");for(let e=0;e<q.length;e++)q[e].addEventListener("click",w);const b=document.querySelector(".modal__image"),g=document.querySelector(".modal-slide");function w(e){const t=e.target.innerHTML;b.innerHTML=t,g.classList.add("_open")}const x=document.querySelectorAll(".modal-close");for(let e=0;e<x.length;e++){const t=x[e];t.addEventListener("click",(e=>{t.closest(".modal").classList.remove("_open")}))}function I(){window.matchMedia("(max-width: 768px)").matches?(d.setValue(!0),_.setValue(33.33,1),n||(n=!0,r.insertAdjacentElement("beforeend",i))):(d.setValue(),_.setValue(),n&&(n=!1,l.insertAdjacentElement("beforeend",i)))}window.addEventListener("resize",I),I(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".form");function t(e){e.classList.add("_error")}function s(e){e.classList.remove("_error")}null!=e&&e.addEventListener("submit",(async function(i){i.preventDefault(),function(){let e=0;const i=document.querySelector(".input-email");s(i),!/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,10}$/i.test(i.value)&&(t(i),e++);const r=document.querySelector(".input-phone");return s(r),function(e){return!/^\d[\d\(\)\ -]{4,16}\d$/.test(e.value)}(r)&&(t(r),e++),e}()||function(e){const t=new XMLHttpRequest,s=new FormData(e);t.open("POST","../form.php"),t.send(s),t.onloadend=()=>{t.status,document.querySelector(".form-sended-modal").classList.add("_open"),e.reset()}}(e)}))}))})();